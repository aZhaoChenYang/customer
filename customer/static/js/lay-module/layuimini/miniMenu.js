layui.define(["element","laytpl","jquery"],function(a){var d=layui.element,f=layui.$,e=layui.laytpl,c=layui.layer;var b={render:function(g){g.menuList=g.menuList||[];g.multiModule=g.multiModule||false;g.menuChildOpen=g.menuChildOpen||false;if(g.multiModule){b.renderMultiModule(g.menuList,g.menuChildOpen)}else{b.renderSingleModule(g.menuList,g.menuChildOpen)}b.listen()},renderSingleModule:function(j,k){j=j||[];var l="",h="",g="layui-this";var i=this;if(k){h=" layui-nav-itemed"}l=this.renderLeftMenu(j,{childOpenClass:h});f(".layui-layout-body").addClass("layuimini-single-module");f(".layuimini-header-menu").remove();f(".layuimini-menu-left").html(l);d.init()},compileMenu:function(i,g){var h='<li {{#if( d.menu){ }}  data-menu="{{d.menu}}" {{#}}} class="layui-nav-item menu-li {{d.childOpenClass}} {{d.className}}"  {{#if( d.id){ }}  id="{{d.id}}" {{#}}}> <a {{#if( d.href){ }} layuimini-href="{{d.href}}" {{#}}} {{#if( d.target){ }}  target="{{d.target}}" {{#}}} href="javascript:;">{{#if( d.icon){ }}  <i class="{{d.icon}}"></i> {{#}}} <span class="layui-left-nav">{{d.title}}</span></a>  {{# if(d.children){}} {{d.children}} {{#}}} </li>';if(g){h='<dd class="menu-dd {{d.childOpenClass}} {{ d.className }}"> <a href="javascript:;"  {{#if( d.menu){ }}  data-menu="{{d.menu}}" {{#}}} {{#if( d.id){ }}  id="{{d.id}}" {{#}}} {{#if(( !d.child || !d.child.length ) && d.href){ }} layuimini-href="{{d.href}}" {{#}}} {{#if( d.target){ }}  target="{{d.target}}" {{#}}}> {{#if( d.icon){ }}  <i class="{{d.icon}}"></i> {{#}}} <span class="layui-left-nav"> {{d.title}}</span></a> {{# if(d.children){}} {{d.children}} {{#}}}</dd>'}return e(h).render(i)},compileMenuContainer:function(i,g){var h='<ul class="layui-nav layui-nav-tree layui-left-nav-tree {{d.className}}" id="{{d.id}}">{{d.children}}</ul>';if(g){h='<dl class="layui-nav-child ">{{d.children}}</dl>'}if(!i.children){return""}return e(h).render(i)},each:function(k,l){var h=[];for(var g=0,j=k.length;g<j;g++){h[g]=l(g,k[g])}return h},renderChildrenMenu:function(j,g){var i=this;j=j||[];var h=this.each(j,function(k,l){if(l.child&&l.child.length){l.children=i.renderChildrenMenu(l.child,{childOpenClass:g.childOpenClass||""})}l.className="";l.childOpenClass=g.childOpenClass||"";return i.compileMenu(l,true)}).join("");return i.compileMenuContainer({children:h},true)},renderLeftMenu:function(j,g){g=g||{};var h=this;var i=h.each(j||[],function(k,n){var l=h.renderChildrenMenu(n.child,{childOpenClass:g.childOpenClass});var m=h.compileMenu({href:n.href,target:n.target,childOpenClass:g.childOpenClass,icon:n.icon,title:n.title,children:l,className:"",});return m}).join("");i=h.compileMenuContainer({id:g.parentMenuId,className:g.leftMenuCheckDefault,children:i});return i},renderMultiModule:function(l,h){l=l||[];var m=this;var j="",k="",i="",g="layui-this",n="",o="layui-this";if(h){n=" layui-nav-itemed"}var j=this.each(l,function(q,s){var r="multi_module_"+q;var t=r+"HeaderId";var p="";p=m.compileMenu({className:o,menu:r,id:t,title:s.title,href:"",target:"",children:""});i+=m.renderLeftMenu(s.child,{parentMenuId:r,childOpenClass:n,leftMenuCheckDefault:g});k+=m.compileMenu({id:t,menu:r,id:t,icon:s.icon,title:s.title,},true);o="";g="layui-hide";return p}).join("");f(".layui-layout-body").addClass("layuimini-multi-module");f(".layuimini-menu-header-pc").html(j);f(".layuimini-menu-left").html(i);f(".layuimini-menu-header-mobile").html(k);d.init()},listen:function(){f("body").on("click","[data-menu]",function(){var h=c.load(0,{shade:false,time:2*1000});var g=f(this).attr("data-menu");f(".layuimini-header-menu .layui-nav-item.layui-this").removeClass("layui-this");f(this).addClass("layui-this");f(".layuimini-menu-left .layui-nav.layui-nav-tree.layui-this").addClass("layui-hide");f(".layuimini-menu-left .layui-nav.layui-nav-tree.layui-this.layui-hide").removeClass("layui-this");f("#"+g).removeClass("layui-hide");f("#"+g).addClass("layui-this");c.close(h)});f("body").on("click",".layuimini-site-mobile",function(){var h=c.load(0,{shade:false,time:2*1000});var g=f(".layuimini-tool [data-side-fold]").attr("data-side-fold");if(g==1){f(".layuimini-tool [data-side-fold]").attr("data-side-fold",0);f(".layuimini-tool [data-side-fold]").attr("class","fa fa-indent");f(".layui-layout-body").removeClass("layuimini-all");f(".layui-layout-body").addClass("layuimini-mini")}else{f(".layuimini-tool [data-side-fold]").attr("data-side-fold",1);f(".layuimini-tool [data-side-fold]").attr("class","fa fa-outdent");f(".layui-layout-body").removeClass("layuimini-mini");f(".layui-layout-body").addClass("layuimini-all");c.close(window.openTips)}d.init();c.close(h)});f("body").on("click","[data-side-fold]",function(){var h=c.load(0,{shade:false,time:2*1000});var g=f(".layuimini-tool [data-side-fold]").attr("data-side-fold");if(g==1){f(".layuimini-tool [data-side-fold]").attr("data-side-fold",0);f(".layuimini-tool [data-side-fold]").attr("class","fa fa-indent");f(".layui-layout-body").removeClass("layuimini-all");f(".layui-layout-body").addClass("layuimini-mini")
}else{f(".layuimini-tool [data-side-fold]").attr("data-side-fold",1);f(".layuimini-tool [data-side-fold]").attr("class","fa fa-outdent");f(".layui-layout-body").removeClass("layuimini-mini");f(".layui-layout-body").addClass("layuimini-all");c.close(window.openTips)}d.init();c.close(h)});f("body").on("click",".layuimini-header-menu.layuimini-mobile-show dd",function(){var h=c.load(0,{shade:false,time:2*1000});var g=f(".layuimini-tool [data-side-fold]").attr("data-side-fold");if(g==="1"){f(".layuimini-site-mobile").trigger("click");d.init()}c.close(h)})},};a("miniMenu",b)});