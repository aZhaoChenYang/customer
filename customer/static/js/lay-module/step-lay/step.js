layui.define(["layer","carousel"],function(b){var e=layui.jquery;var c=layui.layer;var f=layui.carousel;var a=function(h,l,p){var g='<div class="lay-step">';for(var k=0;k<l.length;k++){g+='<div class="step-item">';if(k<(l.length-1)){if(k<p){g+='<div class="step-item-tail"><i class="step-item-tail-done"></i></div>'}else{g+='<div class="step-item-tail"><i class=""></i></div>'}}var j=l[k].number;if(!j){j=k+1}if(k==p){g+='<div class="step-item-head step-item-head-active"><i class="layui-icon">'+j+"</i></div>"}else{if(k<p){g+='<div class="step-item-head"><i class="layui-icon layui-icon-ok"></i></div>'}else{g+='<div class="step-item-head "><i class="layui-icon">'+j+"</i></div>"}}var o=l[k].title;var n=l[k].desc;if(o||n){g+='<div class="step-item-main">';if(o){g+='<div class="step-item-main-title">'+o+"</div>"}if(n){g+='<div class="step-item-main-desc">'+n+"</div>"}g+="</div>"}g+="</div>"}g+="</div>";e(h).prepend(g);var m=100/l.length;e(".step-item").css("width",m+"%")};var d={render:function(h){h.indicator="none";h.arrow="always";h.autoplay=false;if(!h.stepWidth){h.stepWidth="400px"}f.render(h);var g=h.stepItems;a(h.elem,g,0);e(".lay-step").css("width",h.stepWidth);f.on("change("+h.filter+")",function(i){e(h.elem).find(".lay-step").remove();a(h.elem,g,i.index);e(".lay-step").css("width",h.stepWidth)});e(h.elem).find(".layui-carousel-arrow").css("display","none");e(h.elem).css("background-color","transparent")},next:function(g){e(g).find(".layui-carousel-arrow[lay-type=add]").trigger("click")},pre:function(g){e(g).find(".layui-carousel-arrow[lay-type=sub]").trigger("click")}};layui.link(layui.cache.base+"step-lay/step.css");b("step",d)});